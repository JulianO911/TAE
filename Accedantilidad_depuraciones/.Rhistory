labelsTesting <- as.factor(labelsTesting)
model <- knn3(x=training,y=labelsTraining,k = 100)
prediction <- predict(model,newdata = testing)
set.seed(20211122)
indxTrain <- createDataPartition(y = accidentesBarrios$BARRIO,
p = 0.70,
list = FALSE)
training <- accidentesBarrios[indxTrain,]
testing <- accidentesBarrios[-indxTrain,]
labelsTraining <- training[,14]
labelsTesting <- testing[,14]
training <- training %>% select(c("X","Y","BARRIO"))
testing <- testing %>% select(c("X","Y","BARRIO"))
rownames(training)<- NULL
rownames(testing)<- NULL
testing
training
training[["BARRIO"]] <- factor(training[["BARRIO"])
training$BARRIO <- factor(training$BARRIO)
#labelsTraining <- as.factor(labelsTraining)
#labelsTesting <- as.factor(labelsTesting)
trctrl <- trainControl(method = "repeatedcv", number = 10, repeats = 3)
set.seed(3333)
knn_fit <- train(BARRIO ~., data = training, method = "knn",
trControl=trctrl,
preProcess = c("center", "scale"),
tuneLength = 10)
set.seed(20211122)
indxTrain <- createDataPartition(y = accidentesBarrios$BARRIO,
p = 0.70,
list = FALSE)
training <- accidentesBarrios[indxTrain,]
testing <- accidentesBarrios[-indxTrain,]
labelsTraining <- training[,14]
labelsTesting <- testing[,14]
training <- training %>% select(c("X","Y"))
testing <- testing %>% select(c("X","Y"))
rownames(training)<- NULL
rownames(testing)<- NULL
testing
training
labelsTraining <- as.factor(labelsTraining)
labelsTesting <- as.factor(labelsTesting)
model <- knn3(x=training,y=labelsTraining,k = 100)
model <- knn3(x=training,y=labelsTraining,k = 100)
#training <- read.csv("training.csv", stringsAsFactors = FALSE) %>% clean_names()
#testing <-  read.csv("testing.csv", stringsAsFactors = FALSE) %>% clean_names()
#training
#testing
dimnames(training)
model <- knn3(x=training,y=labelsTraining,k = 100)
model
set.seed(20211122)
indxTrain <- createDataPartition(y = accidentesBarrios$BARRIO,
p = 0.70,
list = FALSE)
training <- accidentesBarrios[indxTrain,]
testing <- accidentesBarrios[-indxTrain,]
labelsTraining <- training[,14]
labelsTesting <- testing[,14]
training <- training %>% select(c("X","Y"))
testing <- testing %>% select(c("X","Y","BARRIO"))
rownames(training)<- NULL
rownames(testing)<- NULL
testing
training
labelsTraining <- as.factor(labelsTraining)
labelsTesting <- as.factor(labelsTesting)
model <- knn3(x=training,y=labelsTraining,k = 100)
model
prediction <- predict(model,newdata = testing)
knitr::opts_chunk$set(echo = FALSE)
library("DT")
library("kableExtra")
library("tidyverse")
library("knitr")
library("sqldf")
incidentes <- read.csv("incidentes_viales.csv", header = TRUE, sep = ";", dec = ".", encoding = "UTF-8")
glimpse(incidentes)
filas <- nrow(incidentes)
accidentes <- incidentes %>%
rename(GRAVEDAD = MES,
MES = NRO_RADICADO,
NRO_RADICADO = NUMCOMUNA,
NUMCOMUNA = BARRIO,
BARRIO = COMUNA,
COMUNA = LOCATION,
LOCATION = X,
FUENTE = Y)
glimpse(accidentes)
accidentes <- accidentes %>%
mutate(AÑO = as.factor(AÑO))
levels(accidentes$AÑO)
levels(accidentes$AÑO)[levels(accidentes$AÑO) == "2019\\r"] <- "2019"
levels(accidentes$AÑO)
accidentes <- accidentes %>%
mutate(CBML = as.factor(CBML))
accidentes <- accidentes %>%
mutate(CLASE_ACCIDENTE = as.factor(CLASE_ACCIDENTE))
levels(accidentes$CLASE_ACCIDENTE)
accidentes <- accidentes %>%
mutate(CLASE_ACCIDENTE = recode(CLASE_ACCIDENTE,
"Caída Ocupante" = "Caída del ocupante",
"Caida de Ocupante" = "Caída del ocupante",
"Caída de Ocupante" = "Caída del ocupante",
"Caida Ocupante" = "Caída del ocupante"))
levels(accidentes$CLASE_ACCIDENTE)[levels(accidentes$CLASE_ACCIDENTE) == ""] <- NA
levels(accidentes$CLASE_ACCIDENTE)
accidentes <- accidentes %>%
mutate(DIRECCION = as.factor(DIRECCION)) %>%
mutate(DIRECCION = str_trim(DIRECCION))
unicos_dir <- length(unique(accidentes$DIRECCION))
nas_direc <- sum(is.na(accidentes$DIRECCION))
vacio_direc <- sum(!complete.cases(accidentes$DIRECCION))
accidentes <- accidentes %>%
mutate(DIRECCION.ENCASILLADA = as.factor(DIRECCION.ENCASILLADA)) %>%
mutate(DIRECCION.ENCASILLADA = str_trim(DIRECCION.ENCASILLADA))
accidentes$DIRECCION.ENCASILLADA[accidentes$DIRECCION.ENCASILLADA == "0"] <- NA
unicos_direnc <- length(unique(accidentes$DIRECCION.ENCASILLADA))
nas_direnc <- sum(is.na(accidentes$DIRECCION.ENCASILLADA))
vacio_direnc <- sum(accidentes$DIRECCION.ENCASILLADA == "")
accidentes <- accidentes %>%
mutate(DISEÑO = as.factor(DISEÑO))
levels(accidentes$DISEÑO)
accidentes <- accidentes %>%
mutate(DISEÑO = recode(DISEÑO,
"Ciclo Ruta" = "Ciclorruta",
"Interseccion" = "Intersección",
"Lote o Predio" = "Lote o predio",
"Paso a Nivel" = "Paso a nivel",
"Paso Elevado" = "Paso elevado",
"Paso Inferior" = "Paso inferior",
"Tramo de via" = "Tramo de vía",
"Tunel" = "Túnel",
"Via peatonal" = "Vía peatonal"))
levels(accidentes$DISEÑO)[levels(accidentes$DISEÑO) == ""] <- NA
levels(accidentes$DISEÑO)[levels(accidentes$DISEÑO) == "Pont\\xF3n"] <- "Pontón"
levels(accidentes$DISEÑO)
accidentes <- accidentes %>%
mutate(EXPEDIENTE = as.factor(EXPEDIENTE))
unicos_exp <- length(unique(accidentes$EXPEDIENTE))
levels(accidentes$CLASE_ACCIDENTE)[levels(accidentes$CLASE_ACCIDENTE) == ""] <- NA
nas_exp <- sum(is.na(accidentes$EXPEDIENTE))
vacio_exp <- sum(accidentes$EXPEDIENTE == "")
repetidos_exp <- accidentes %>%
group_by(EXPEDIENTE) %>%
filter(n() > 1)
accidentes$EXPEDIENTE[substr(accidentes$EXPEDIENTE, 1, 1) != "A"] <- NA
dobles_exp <- accidentes %>%
group_by(EXPEDIENTE) %>%
filter(n() > 1)
dobles_exp2 <- dobles_exp[is.na(dobles_exp$EXPEDIENTE) == FALSE, ]
triples_exp <- dobles_exp %>%
group_by(EXPEDIENTE) %>%
filter(n() > 2)
dobles_exp4 <- dobles_exp2[(is.na(dobles_exp2$DISEÑO) == TRUE), ]
dobles_exp5 <- dobles_exp4 %>%
distinct(EXPEDIENTE, .keep_all = TRUE)
accidentes <- sqldf('SELECT * FROM accidentes EXCEPT SELECT * FROM dobles_exp5')
accidentes <- accidentes %>%
mutate(FECHA_ACCIDENTE = as.POSIXct(FECHA_ACCIDENTE, format = "%d/%m/%Y %H:%M:%S"))
accidentes$FECHA <- as.Date(accidentes$FECHA_ACCIDENTE)
accidentes$HORA <- format(as.POSIXct(accidentes$FECHA_ACCIDENTE),
format = "%H:%M:%S")
# Eliminación de los 0z
accidentes <- accidentes %>%
mutate(FECHA_ACCIDENTES = substring(FECHA_ACCIDENTES, 1, nchar(FECHA_ACCIDENTES)-5))
# Cambio de las T por un espacio
accidentes <- accidentes %>%
mutate(FECHA_ACCIDENTES = gsub("T", " ", FECHA_ACCIDENTES))
accidentes <- accidentes %>%
mutate(FECHA_ACCIDENTES = as.POSIXct(FECHA_ACCIDENTES))
accidentes$HORAS <- format(as.POSIXct(accidentes$FECHA_ACCIDENTES),
format = "%H:%M:%S")
accidentes <- accidentes %>%
mutate(GRAVEDAD = as.factor(GRAVEDAD))
levels(accidentes$GRAVEDAD)
accidentes <- accidentes %>%
mutate(GRAVEDAD = recode(GRAVEDAD,
"Solo da\\xF1os" = "Solo daños"))
levels(accidentes$GRAVEDAD)
accidentes <- accidentes %>%
mutate(MES = as.factor(MES))
levels(accidentes$MES)
accidentes <- accidentes %>%
mutate(MES = recode(MES,
"1" = "Enero",
"2" = "Febero",
"3" = "Marzo",
"4" = "Abril",
"5" = "Mayo",
"6" = "Junio",
"7" = "Julio",
"8" = "Agosto",
"9" = "Septiembre",
"10" = "Octubre",
"11" = "Noviembre",
"12" = "Diciembre"))
levels(accidentes$MES)
accidentes <- accidentes %>%
mutate(NRO_RADICADO = as.factor(NRO_RADICADO))
unicos_rad <- length(unique(accidentes$NRO_RADICADO))
levels(accidentes$NRO_RADICADO)[levels(accidentes$NRO_RADICADO) == ""] <- NA
nas_rad <- sum(is.na(accidentes$NRO_RADICADO))
repetidos_rad <- accidentes %>%
group_by(NRO_RADICADO) %>%
filter(n() > 1)
accidentes <- accidentes %>%
mutate(NUMCOMUNA = as.factor(NUMCOMUNA))
levels(accidentes$NUMCOMUNA)
accidentes <- accidentes %>%
mutate(NUMCOMUNA = recode(NUMCOMUNA,
"01" = "1",
"02" = "2",
"03" = "3",
"04" = "4",
"05" = "5",
"06" = "6",
"07" = "7",
"08" = "8",
"09" = "9"))
levels(accidentes$NUMCOMUNA)[levels(accidentes$NUMCOMUNA) == "0"] <- NA
levels(accidentes$NUMCOMUNA)[levels(accidentes$NUMCOMUNA) == "AU"] <- NA
levels(accidentes$NUMCOMUNA)[levels(accidentes$NUMCOMUNA) == "In"] <- NA
levels(accidentes$NUMCOMUNA)[levels(accidentes$NUMCOMUNA) == "Sin Inf"] <- NA
levels(accidentes$NUMCOMUNA)[levels(accidentes$NUMCOMUNA) == "SN"] <- NA
levels(accidentes$NUMCOMUNA)
accidentes <- accidentes %>%
mutate(BARRIO = as.factor(BARRIO))
barriosAux <- accidentes %>% # Vector con todos los barrios de la BD
select(c(BARRIO))
barrios <- barriosAux %>%
group_by(BARRIO) %>%
summarise(Frecuencia = n())
datatable(barrios,
colnames = c("Número de entrada",
"Nombre del barrio",
"Frecuencia absoluta"))
# Corrección de barrios con códigos
accidentes <- accidentes %>%
mutate(BARRIO = recode(BARRIO,
"0103" = "Popular",
"0105" = "Moscú No. 2",
"0109" = "Aldea Pablo VI",
"0202" = "Playón de los Comuneros",
"0205" = "La Francia",
"0208" = "Villa Niza",
"0211" = "La Rosa",
"0301" = "La Salle",
"0302" = "Las Granjas",
"0303" = "Campo Valdés No. 2",
"0304" = "Santa Inés",
"0306" = "El Pomar",
"0307" = "Manrique Central No. 2",
"0309" = "Versalles No. 1",
"0310" = "Versalles No. 2",
"0312" = "Oriente",
"0402" = "San Isidro",
"0408" = "San Pedro",
"0409" = "Manrique Central No. 1",
"0413" = "Aranjuez",
"0505" = "Boyacá",
"0509" = "Girardot",
"0514" = "Alfonso López",
"0606" = "San Martín de Porres",
"0711" = "El Diamante",
"0712" = "Aures No. 2",
"0716" = "Palenque",
"0717" = "Robledo",
"0803" = "San Miguel",
"0809" = "Sucre",
"0811" = "Trece de Noviembre",
"0813" = "Villatina",
"0815" = "Las Estancias",
"0819" = "Villa Liliam",
"0903" = "Bomboná No. 2",
"0906" = "Barrio Caicedo",
"0907" = "Buenos Aires",
"0912" = "El Salvador",
"0914" = "Asomadera No. 1",
"1001" = "Prado",
"1003" = "Jesús Nazareno",
"1004" = "El Chagualo",
"1007" = "Guayaquil",
"1008" = "Corazón de Jesús",
"1011" = "Calle Nueva",
"1012" = "Perpetuo Socorro",
"1015" = "Bomboná No. 1",
"1018" = "Villa Nueva",
"1019" = "La Candelaria",
"1020" = "San Diego",
"1101" = "Carlos E. Restrepo",
"1102" = "Suramericana",
"1103" = "Naranjal",
"1105" = "Los Conquistadores",
"1108" = "Laureles",
"1114" = "Los Colores",
"1202" = "Calasanz",
"1204" = "La América",
"1205" = "La Floresta",
"1206" = "Santa Lucía",
"1211" = "Simón Bolívar",
"1306" = "La Pradera",
"1408" = "Altos del Poblado",
"1419" = "Manila",
"1422" = "La Aguacatala",
"1423" = "Santa María de los Ángeles",
"1503" = "Trinidad",
"1504" = "Santa Fe",
"1507" = "Campo Amor",
"1510" = "Guayabal",
"1511" = "La Colina",
"1603" = "Belén",
"1605" = "San Bernardo",
"1611" = "Loma de los Bernal",
"1612" = "La Gloria",
"1613" = "Altavista",
"1620" = "El Nogal - Los Almendros",
"5002" = "La Frisola",
"6001" = "La Loma",
"7001" = "Altavista Sector Central",
"7002" = "Aguas Frías",
"9004" = "Santa Elena",
"9086" = "Suburbano El Plan"))
# Corrección de barrios con problemas de codificación o unicidad
accidentes <- accidentes %>%
mutate(BARRIO = recode(BARRIO,
"\\xC1rea de Expansi\\xF3n Altos de Calasanz" = "Área de expansión Altos de Calasanz",
"\\xC1rea de Expansi\\xF3n Pajarito" = "Área de expansión Pajarito",
"\\xC1rea de Expansi\\xF3n San Antonio de Prado" = "Área de expansión San Antonio de Prado",
"Alejandr\\xEDa" = "Alejandría",
"Alejandro Echavarr\\xEDa" = "Alejandro Echavarría",
"Alfonso L\\xF3pez" = "Alfonso López",
"Andaluc\\xEDa" = "Andalucía",
"Antonio Nari\\xF1o" = "Antonio Nariño",
"Area De Expansion Altavista" = "Área de expansión Altavista",
"Área de Expansión Altavista" = "Área de expansión Altavista",
"Area de Expansion Altos de Calasanz" = "Área de expansión Altos de Calasanz",
"Área de Expansión Altos de Calasanz" = "Área de expansión Altos de Calasanz",
"Area De Expansion Belen Rincon" = "Área de expansión Belén Rincón",
"Área de Expansión Pajarito" = "Área de expansión Pajarito",
"Área de Expansión San Antonio de Prado" = "Área de expansión San Antonio de Prado",
"Asomadera No.1" = "Asomadera No. 1",
"Aguas frias" = "Aguas frías",
"Aures No.1" = "Aures No. 1",
"Aures No.2" = "Aures No. 2",
"B. Cerro  El Volador" = "Barrio Cerro El Volador",
"B. Cerro El Volador" = "Barrio Cerro El Volador",
"Barrio Col\\xF3n" = "Barrio Colón",
"Barrio Crist\\xF3bal" = "Barrio Cristóbal",
"Barrio de Jes\\xFAs" = "Barrio de Jesús",
"Barrios de Jesús" = "Barrio de Jesús",
"Batall\\xF3n Girardot" = "Batallón Girardot",
"Bel\\xE9n" = "Belén",
"Belalc\\xE1zar" = "Belalcázar",
"Berl\\xEDn" = "Berlín",
"Berlin" = "Berlín",
"Bermejal-Los Alamos" = "Bermejal - Los Álamos",
"Bombon\\xE1 No. 1" = "Bomboná No. 1",
"Bombon\\xE1 No. 2" = "Bomboná No. 2",
"Bombon\\xE1 No.1" = "Bomboná No. 1",
"Bomboná No.1" = "Bomboná No. 1",
"Boqueron" = "Boquerón",
"Boyac\\xE1" = "Boyacá",
"C\\xF3rdoba" = "Córdoba",
"Cabecera Urbana San Cristobal" = "Cabecera Urbana San Cristóbal",
"Campo Vald\\xE9s No. 1" = "Campo Valdés No. 1",
"Campo Vald\\xE9s No. 2" = "Campo Valdés No. 2",
"Campo Vald\\xE9s No.2" = "Campo Valdés No. 2",
"Campo Valdés No.2" = "Campo Valdés No. 2",
"Catalu\\xF1a" = "Cataluña",
"Coraz\\xF3n de Jes\\xFAs" = "Corazón de Jesús",
"Diego Echavarr\\xEDa" = "Diego Echavarría",
"Doce de Octubre No.1" = "Doce de Octubre No. 1",
"Doce de Octubre No.2" = "Doce de Octubre No. 2",
"El Coraz\\xF3n" = "El Corazón",
"El Corazon El Morro" = "El Corazón - El Morro",
"El Nogal-Los Almendros" = "El Nogal - Los Almendros",
"El Progreso No.2" = "El Progreso No. 2",
"El Rinc\\xF3n" = "El Rincón",
"El Vel\\xF3dromo" = "El Velódromo",
"Estaci\\xF3n Villa" = "Estación Villa",
"F\\xE1tima" = "Fátima",
"Facultad de Minas U. Nacional" = "Facultad de Minas U. Nacional",
"H\\xE9ctor Abad G\\xF3mez" = "Héctor Abad Gómez",
"Hospital San Vicente de Pa\\xFAl" = "Hospital San Vicente de Paúl",
"Jard\\xEDn Bot\\xE1nico" = "Jardín Botánico",
"Jes\\xFAs Nazareno" = "Jesús Nazareno",
"La Am\\xE9rica" = "La América",
"La Mansi\\xF3n" = "La Mansión",
"La mota" = "La Mota",
"La Pi\\xF1uela" = "La Piñuela",
"Las Lomas No.1" = "Las Lomas No. 1",
"Las Lomas No.2" = "Las Lomas No. 2",
"Los \\xC1ngeles" = "Los Ángeles",
"Los Alc\\xE1zares" = "Los Alcázares",
"Los Balsos No.1" = "Los Balsos No. 1",
"Los Balsos No.2" = "Los Balsos No. 2",
"Manrique Central No.1" = "Manrique Central No. 1",
"Manrique Central No.2" = "Manrique Central No. 2",
"Mar\\xEDa Cano Carambolas" = "María Cano Carambolas",
"Mosc\\xFA No. 1" = "Moscú No. 1",
"Mosc\\xFA No. 2" = "Moscú No. 2",
"Mosc\\xFA No.2" = "Moscú No. 2",
"Moscú No.1" = "Moscú No. 1",
"Moscú No.2" = "Moscú No. 2",
"Nueva Villa de Aburr\\xE1" = "Nueva Villa de Aburrá",
"Nueva Villa de la Iguan\\xE1" = "Nueva Villa de la Iguaná",
"Nueva Villa de La Iguaná" = "Nueva Villa de la Iguaná",
"Play\\xF3n de Los Comuneros" = "Playón de los Comuneros",
"San Germ\\xE1n" = "San Germán",
"San Javier No.1" = "San Javier No. 1",
"San Javier No.2" = "San Javier No. 2",
"San Joaqu\\xEDn" = "San Joaquín",
"San Jos\\xE9 de la Monta\\xF1a" = "San José de la Montaña",
"San Jos\\xE9 la Cima No. 1" = "San José de la Cima No. 1",
"San Jos\\xE9 la Cima No.2" = "San José de la Cima No. 2",
"San Jose Del Manzanillo" = "San José del Manzanillo",
"San José la Cima No. 1" = "San José de la Cima No. 1",
"San José la Cima No.2" = "San José de la Cima No. 2",
"San Mart\\xEDn de Porres" = "San Martín de Porres",
"Santa F\\xE9" = "Santa Fe",
"Santa Fé" = "Santa Fe",
"Santa In\\xE9s" = "Santa Inés",
"Santa Luc\\xEDa" = "Santa Lucía",
"Santa M\\xF3nica" = "Santa Mónica",
"Santa Mar\\xEDa de los \\xC1ngeles" = "Santa María de los Ángeles",
"Santa Mar\\xEDa de Los \\xC1ngeles" = "Santa María de los Ángeles",
"Santa María de Los Ángeles" = "Santa María de los Ángeles",
"Santo Domingo Savio No.1" = "Santo Domingo Savio No. 1",
"Sim\\xF3n Bol\\xEDvar" = "Simón Bólivar",
"SUBURB El Plan" = "Suburbano El Plan",
"Suburbano el Tesoro" = "Suburbano El Tesoro",
"Suburbano La Palma-El Patio" = "Suburbano La Palma - El Patio",
"Suburbano Pedregal alto" = "Suburbano Pedregal Alto",
"U.D. Atanasio Girardot" = "Unidad Deportiva Atanasio Girardot",
"Versalles No.1" = "Versalles No. 1",
"Versalles No.2" = "Versalles No. 2",
"L\\xF3pez de Mesa" = "López de Mesa",
"La Loma De Los Bernal" = "Loma de los Bernal"))
# NA para barrios sin información
accidentes$BARRIO[accidentes$BARRIO == "Sin Inf"] <- NA
accidentes$BARRIO[accidentes$BARRIO == "Sin Nombre"] <- NA
accidentes$BARRIO[accidentes$BARRIO == ""] <- NA
accidentes$BARRIO[accidentes$BARRIO == "Inst"] <- NA
accidentes$BARRIO[accidentes$BARRIO == "0"] <- NA
barriosAux <- accidentes %>% # Vector con todos los barrios de la BD
select(c(BARRIO))
barrios <- barriosAux %>%
group_by(BARRIO) %>%
summarise(Frecuencia = n())
datatable(barrios,
colnames = c("Número de entrada",
"Nombre del barrio",
"Frecuencia absoluta"))
accidentes <- accidentes %>%
mutate(COMUNA = as.factor(COMUNA))
levels(accidentes$COMUNA)
accidentes <- accidentes %>%
mutate(COMUNA = recode(COMUNA,
"Bel\\xE9n" = "Belén",
"Corregimiento de San Crist\\xF3bal" = "Corregimiento de San Cristóbal",
"Corregimiento de San Sebasti\\xE1n de Palmitas" = "Corregimiento de San Sebastián de Palmitas",
"La Am\\xE9rica" = "La América"))
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == "SN"] <- NA
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == "Sin Inf"] <- NA
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == "In"] <- NA
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == "0"] <- NA
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == "AU"] <- NA
levels(accidentes$COMUNA)[levels(accidentes$COMUNA) == ""] <- NA
levels(accidentes$COMUNA)
accidentes[c("X", "Y")] <- str_split_fixed(accidentes$LOCATION, ", ", 2)
options(digits = 10)
accidentes <- accidentes %>%
mutate(X = substring(X, 2)) %>%
mutate(Y = substring(Y, 1, nchar(Y) - 1)) %>%
mutate(X = as.numeric(X)) %>%
mutate(Y = as.numeric(Y))
write.csv(accidentes,"accidentes.csv")
knitr::opts_chunk$set(echo = TRUE)
accidentes
knitr::opts_chunk$set(echo = TRUE)
library("caret")
library("DT")
library("tidyverse")
accidentes = read.csv2("accidentesConBarrio.csv", header = TRUE, sep = ",", dec = ".", encoding = "UTF-8")
accidentes
accidentes <- accidentes %>%
mutate(BARRIO = as.factor(BARRIO))
barriosAux <- accidentes %>% # Vector con todos los barrios de la BD
select(c(BARRIO))
barrios <- barriosAux %>%
group_by(BARRIO) %>%
summarise(Frecuencia = n())
datatable(barrios,
colnames = c("Número de entrada",
"Nombre del barrio",
"Frecuencia absoluta"))
accidentes = read.csv2("accidentesConBarrio2.csv", header = TRUE, sep = ",", dec = ".", encoding = "UTF-8")
accidentes
accidentes[is.na(accidentes$BARRIO),]
accidentes <- accidentes %>%
mutate(BARRIO = as.factor(BARRIO))
barriosAux <- accidentes %>% # Vector con todos los barrios de la BD
select(c(BARRIO))
barrios <- barriosAux %>%
group_by(BARRIO) %>%
summarise(Frecuencia = n())
datatable(barrios,
colnames = c("Número de entrada",
"Nombre del barrio",
"Frecuencia absoluta"))
